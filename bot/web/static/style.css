:root { color-scheme: light dark; --bg:#0f141a; --card:#141b22; --mut:#cbd5e1; --fg:#e2e8f0; --pri:#3b82f6; --pri2:#2563eb; --bord:#263041; --side:50px; }
* { box-sizing: border-box; }
html,body { height:100%; }
/* Disable page scrolling; only panel will scroll */
body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: linear-gradient(180deg, #0b1220 0%, #0f141a 100%); color: var(--fg); overflow: hidden; }
/* Content area with reserved space for fixed right panel */
.container { max-width: min(1200px, calc(100vw - var(--side) - 24px)); margin: 0 auto; padding: 8px; padding-right: calc(var(--side) + 16px); position: relative; }
.hero { background: linear-gradient(135deg, #1e293b, #0f172a); border:1px solid var(--bord); border-radius: 10px; padding: 10px 12px; box-shadow: 0 4px 14px rgba(0,0,0,.25); }
.hero h1 { font-size: 16px; margin: 0 0 2px; }
.hero p { margin: 0; opacity: .85; font-size: 12px; }
.section-title { font-size: 11px; letter-spacing:.08em; text-transform: uppercase; opacity:.7; margin: 10px 2px 6px; }
.modes { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 6px; margin-bottom: 6px; }
.mode { display:block; }
.mode input { display:none; }
.chip { display:inline-flex; align-items:center; justify-content:center; width:100%; padding:6px 8px; border-radius: 8px; border:1px solid var(--bord); background: var(--card); color: var(--fg); cursor:pointer; transition: all .15s ease; box-shadow: 0 2px 6px rgba(0,0,0,.12) inset; font-size: 12px; line-height: 1.1; }
.mode:hover .chip { transform: translateY(-1px); }
.mode input:checked + .chip { background: linear-gradient(135deg, var(--pri), var(--pri2)); border-color: transparent; color: white; box-shadow: 0 6px 16px rgba(59,130,246,.35); }
.panel { border:1px solid var(--bord); background: var(--card); border-radius: 8px; padding: 8px; box-shadow: 0 3px 12px rgba(0,0,0,.18); }
/* Right-side panel: fixed to viewport; log scrolls inside */
.container > .panel:not(#shot-panel) {
  position: fixed;
  right: 8px;
  top: 8px;
  max-width: 300px;
  height: calc(100vh - 16px);
  /* Prevent panel from scrolling; allow inner log to scroll */
  overflow: hidden;
  display: flex;
  flex-direction: column;
  z-index: 10;
}
.controls { display:flex; gap: 6px; }
.btn { padding: 6px 8px; border-radius: 8px; border:1px solid var(--bord); background:#1f2937; color: var(--fg); cursor:pointer; transition: background .15s ease, transform .05s ease; font-size: 12px; }
.btn:hover { background:#243041; }
.btn:active { transform: translateY(1px); }
.btn.primary { background: linear-gradient(135deg, var(--pri), var(--pri2)); border-color: transparent; color:white; }
.btn.danger { background: linear-gradient(135deg, #ef4444, #dc2626); border-color: transparent; color: white; }
.btn[disabled] { opacity:.5; cursor:not-allowed; }
.spinner { width:0; height:0; margin-right:0; display:none; }
.loading .spinner { width:10px; height:10px; margin-right:6px; border-radius:50%; border:2px solid rgba(255,255,255,.5); border-top-color:transparent; display:inline-block; animation: spin .8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.status { margin-top: 6px; font-size: 11px; opacity: 0.9; }
.footer { margin-top: 8px; opacity:.6; font-size:11px; text-align:center; }

/* Debug log panel */
.log { margin-top: 8px; font: 11px/1.35 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; overflow-y: auto; border-top: 1px dashed var(--bord); padding-top: 6px; flex: 1 1 auto; min-height: 0; }
.log-line { white-space: pre-wrap; word-break: break-word; opacity: .95; }
.log-line.info { color: var(--fg); opacity: .8; }
.log-line.ok { color: #22c55e; }
.log-line.err { color: #ef4444; }
.log-line.pink { color: #ec4899; }

/* Debug shot */
#shot-panel { margin-top: 8px; }
.shot { display:block; width:100%; height:auto; border:1px solid var(--bord); border-radius:6px; background:#0b1220; max-height: 80vh; object-fit: contain; }
/* Settings */
.settings-form .row { display:flex; gap:6px; margin-top:6px; flex-wrap: wrap; }
.settings-form label { display:flex; flex-direction: column; gap:3px; font-size:11px; }
.settings-form input, .settings-form select { background:#1f2937; border:1px solid var(--bord); color: var(--fg); border-radius:6px; padding:4px 6px; font-size:12px; }
/* Double range */
.range-group { display:flex; flex-direction: column; gap:6px; flex: 1 1 100%; }
.double-range { position: relative; height: 24px; display:flex; align-items:center; gap:8px; }
.double-range input[type=range] { flex:1; appearance: none; height:4px; background:#243041; border-radius: 3px; outline: none; }
.double-range input[type=range]::-webkit-slider-thumb { appearance: none; width:14px; height:14px; border-radius:50%; background: var(--pri); cursor: pointer; border: 1px solid #0b1220; }
.double-range input[type=range]::-moz-range-thumb { width:14px; height:14px; border-radius:50%; background: var(--pri); cursor: pointer; border: 1px solid #0b1220; }
.range-values { font-size: 11px; opacity:.9; }
