{
  "type": "graph",
  "start": "OpenAlliance",
  "loop_sleep_s": 0.05,
  "steps": [
    {
      "name": "OpenAlliance",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_alliance_1"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceIcon",
          "templates": [
            "AllianceIcon.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait1",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "OpenTerritory",
      "on_failure": "OpenMenuForAlliance"
    },
    {
      "name": "OpenMenuForAlliance",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_menu_1"
        },
        {
          "type": "FindAndClick",
          "name": "MenuButton",
          "templates": [
            "MenuButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "WaitMenu",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "OpenAllianceRetry",
      "on_failure": "Stop"
    },
    {
      "name": "OpenAllianceRetry",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_alliance_retry"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceIcon",
          "templates": [
            "AllianceIcon.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait1Retry",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "OpenTerritory",
      "on_failure": "Stop"
    },
    {
      "name": "OpenTerritory",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_territory_1"
        },
        {
          "type": "FindAndClick",
          "name": "TerritoryIcon",
          "templates": [
            "TerritoryIcon.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait2",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Hide1",
      "on_failure": "Stop"
    },
    {
      "name": "Hide1",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_hide_1"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceTerritoryHideButton",
          "templates": [
            "AllianceTerritoryHideButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait3",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Hide2",
      "on_failure": "AfterHide"
    },
    {
      "name": "Hide2",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_hide_2"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceTerritoryHideButton",
          "templates": [
            "AllianceTerritoryHideButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait4",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Hide3",
      "on_failure": "AfterHide"
    },
    {
      "name": "Hide3",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_hide_3"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceTerritoryHideButton",
          "templates": [
            "AllianceTerritoryHideButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait5",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Hide4",
      "on_failure": "AfterHide"
    },
    {
      "name": "Hide4",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_hide_4"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceTerritoryHideButton",
          "templates": [
            "AllianceTerritoryHideButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait6",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Hide5",
      "on_failure": "AfterHide"
    },
    {
      "name": "Hide5",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_hide_5"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceTerritoryHideButton",
          "templates": [
            "AllianceTerritoryHideButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait7",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "AfterHide",
      "on_failure": "AfterHide"
    },
    {
      "name": "AfterHide",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_arc_1"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceResourceCentersButton",
          "templates": [
            "AllianceResourceCentersButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait8",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "ClickPlus",
      "on_failure": "Stop"
    },
    {
      "name": "ClickPlus",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_plus_1"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceResouceCenterPlusButton",
          "templates": [
            "AllianceResouceCenterPlusButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait9",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "CreateLegions",
      "on_failure": "Stop"
    },
    {
      "name": "CreateLegions",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_create_legions_1"
        },
        {
          "type": "FindAndClick",
          "name": "CreateLegionsButton",
          "templates": [
            "CreateLegionsButton.png"
          ],
          "region_pct": {
            "$config": "create_legions_button_region_pct"
          },
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait10",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "RemoveCommander",
      "on_failure": "FallbackCenter"
    },
    {
      "name": "FallbackCenter",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_fb_center"
        },
        {
          "type": "ClickPercent",
          "name": "ClickCenter",
          "x_pct": 0.5,
          "y_pct": 0.5
        },
        {
          "type": "Wait",
          "name": "WaitFB1",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "FallbackGather",
      "on_failure": "FallbackGather"
    },
    {
      "name": "FallbackGather",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_fb_gather"
        },
        {
          "type": "FindAndClick",
          "name": "GatherButton",
          "templates": [
            "GatherButton.png"
          ],
          "region_pct": {
            "$config": "gather_button_region_pct"
          },
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "WaitFB2",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "FallbackOpenIcon",
      "on_failure": "Stop"
    },
    {
      "name": "FallbackOpenIcon",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_fb_icon"
        },
        {
          "type": "FindAndClick",
          "name": "AllianceResourceCenterCreateLegionIcon",
          "templates": [
            "AllianceResourceCenterCreateLegionIcon.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "WaitFB3",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "CreateLegions",
      "on_failure": "Stop"
    },
    {
      "name": "RemoveCommander",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_remove_commander"
        },
        {
          "type": "FindAndClick",
          "name": "RemoveCommanderButton",
          "templates": [
            "RemoveCommanderButton.png"
          ],
          "region_pct": [
            0.0,
            0.0,
            1.0,
            1.0
          ],
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "WaitRemoveCommander",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "March",
      "on_failure": "March"
    },
    {
      "name": "March",
      "actions": [
        {
          "type": "Screenshot",
          "name": "cap_march_1"
        },
        {
          "type": "FindAndClick",
          "name": "March",
          "templates": [
            "March.png"
          ],
          "region_pct": {
            "$config": "march_button_region_pct"
          },
          "threshold": {
            "$config": "match_threshold"
          },
          "verify_threshold": {
            "$config": "verify_threshold"
          }
        },
        {
          "type": "Wait",
          "name": "Wait11",
          "seconds": 0.5,
          "randomize": true
        }
      ],
      "on_success": "Stop",
      "on_failure": "Stop"
    },
    {
      "name": "Stop",
      "actions": [
        {
          "type": "EndCycle",
          "name": "end_cycle"
        }
      ]
    }
  ],
  "key": "farm_alliance_resource_center",
  "label": "Farm Alliance Resource Center",
  "metadata": {
    "category": "Alliance & Events",
    "badge": "Alliance",
    "description": "Navigates the alliance territory panel to queue Alliance Resource Center runs with fallback gather steps.",
    "tags": [
      "alliance",
      "resource",
      "center",
      "event"
    ]
  },
  "context": "default"
}
